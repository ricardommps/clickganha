<ion-view view-title="Login" align-title="left">
  <ion-content style="background: url(img/login-background.jpg) center; background-size: cover;" direction="y">
    <div class="hero no-header flat">
      <div class="content">
        <div class="app-icon"></div>
        <div class="flexbox-parent">
          <div layout="row" layout-align="center center" >
           <img src="img/logo.png" class="login_logo">
          </div>
        </div>
        
      </div>
    </div>
    <div class="login-page">    

      <div class="form">

        <form class="register-form" name="signupForm" ng-show="!vm.data.loginForm" novalidate="" ng-submit="vm.signup(signupForm)">

          <label ng-class="{'has-errors' : signupForm.first_name.$invalid, 'no-errors' :signupForm.first_name.$valid}">
            <input type="text" name="first_name" ng-model="vm.data.form.name.first" 
            ng-minlength="5" ng-maxlength="20" placeholder="Nome" required>
          </label>    
          <div class="error-container" ng-show="signupForm.first_name.$touched" ng-messages="signupForm.first_name.$error">
            <div ng-messages-include="error-list.html"></div>
          </div>      

          <label ng-class="{'has-errors' : signupForm.last_name.$invalid, 'no-errors' :signupForm.last_name.$valid}">
            <input type="text" name="last_name" ng-model="vm.data.form.name.last" 
            ng-minlength="5" ng-maxlength="20" placeholder="Sobrenome" required>
          </label>    
          <div class="error-container" ng-show="signupForm.last_name.$touched" ng-messages="signupForm.last_name.$error">
            <div ng-messages-include="error-list.html"></div>
          </div>

          <label ng-class="{'has-errors' : signupForm.birthDate.$invalid, 'no-errors' :signupForm.birthDate.$valid}">
            <span class="input-label">Data Nascimento</span>
            <!-- input type="text" class="date" name="birthDate"  ng-model="form.birthDate" ng-minlength="10" ng-maxlength="10" required -->
            <ng-combo-date-picker ng-model="vm.data.form.birthDate" class="ng-pristine ng-untouched ng-valid ng-isolate-scope ng-empty" aria-invalid="false"><select ng-model="date" ng-change="onChange('date')" ng-options="date.value as date.name disable when date.disabled for date in dates" class="ng-pristine ng-untouched ng-valid ng-empty" aria-invalid="false"><option value="?" selected="selected"></option><option label="1" value="number:1">1</option><option label="2" value="number:2">2</option><option label="3" value="number:3">3</option><option label="4" value="number:4">4</option><option label="5" value="number:5">5</option><option label="6" value="number:6">6</option><option label="7" value="number:7">7</option><option label="8" value="number:8">8</option><option label="9" value="number:9">9</option><option label="10" value="number:10">10</option><option label="11" value="number:11">11</option><option label="12" value="number:12">12</option><option label="13" value="number:13">13</option><option label="14" value="number:14">14</option><option label="15" value="number:15">15</option><option label="16" value="number:16">16</option><option label="17" value="number:17">17</option><option label="18" value="number:18">18</option><option label="19" value="number:19">19</option><option label="20" value="number:20">20</option><option label="21" value="number:21">21</option><option label="22" value="number:22">22</option><option label="23" value="number:23">23</option><option label="24" value="number:24">24</option><option label="25" value="number:25">25</option><option label="26" value="number:26">26</option><option label="27" value="number:27">27</option><option label="28" value="number:28">28</option><option label="29" value="number:29">29</option><option label="30" value="number:30">30</option><option label="31" value="number:31">31</option></select><select ng-model="month" ng-change="onChange('month')" ng-options="month.value as month.name disable when month.disabled for month in months" class="ng-pristine ng-untouched ng-valid ng-empty" aria-invalid="false"><option value="?" selected="selected"></option><option label="Jan" value="number:0">Jan</option><option label="Feb" value="number:1">Feb</option><option label="Mar" value="number:2">Mar</option><option label="Apr" value="number:3">Apr</option><option label="May" value="number:4">May</option><option label="Jun" value="number:5">Jun</option><option label="Jul" value="number:6">Jul</option><option label="Aug" value="number:7">Aug</option><option label="Sep" value="number:8">Sep</option><option label="Oct" value="number:9">Oct</option><option label="Nov" value="number:10">Nov</option><option label="Dec" value="number:11">Dec</option></select><select ng-model="year" ng-change="onChange('year')" ng-options="year.value as year.name disable when year.disabled for year in years" class="ng-pristine ng-untouched ng-valid ng-empty" aria-invalid="false"><option value="?" selected="selected"></option><option label="1916" value="number:1916">1916</option><option label="1917" value="number:1917">1917</option><option label="1918" value="number:1918">1918</option><option label="1919" value="number:1919">1919</option><option label="1920" value="number:1920">1920</option><option label="1921" value="number:1921">1921</option><option label="1922" value="number:1922">1922</option><option label="1923" value="number:1923">1923</option><option label="1924" value="number:1924">1924</option><option label="1925" value="number:1925">1925</option><option label="1926" value="number:1926">1926</option><option label="1927" value="number:1927">1927</option><option label="1928" value="number:1928">1928</option><option label="1929" value="number:1929">1929</option><option label="1930" value="number:1930">1930</option><option label="1931" value="number:1931">1931</option><option label="1932" value="number:1932">1932</option><option label="1933" value="number:1933">1933</option><option label="1934" value="number:1934">1934</option><option label="1935" value="number:1935">1935</option><option label="1936" value="number:1936">1936</option><option label="1937" value="number:1937">1937</option><option label="1938" value="number:1938">1938</option><option label="1939" value="number:1939">1939</option><option label="1940" value="number:1940">1940</option><option label="1941" value="number:1941">1941</option><option label="1942" value="number:1942">1942</option><option label="1943" value="number:1943">1943</option><option label="1944" value="number:1944">1944</option><option label="1945" value="number:1945">1945</option><option label="1946" value="number:1946">1946</option><option label="1947" value="number:1947">1947</option><option label="1948" value="number:1948">1948</option><option label="1949" value="number:1949">1949</option><option label="1950" value="number:1950">1950</option><option label="1951" value="number:1951">1951</option><option label="1952" value="number:1952">1952</option><option label="1953" value="number:1953">1953</option><option label="1954" value="number:1954">1954</option><option label="1955" value="number:1955">1955</option><option label="1956" value="number:1956">1956</option><option label="1957" value="number:1957">1957</option><option label="1958" value="number:1958">1958</option><option label="1959" value="number:1959">1959</option><option label="1960" value="number:1960">1960</option><option label="1961" value="number:1961">1961</option><option label="1962" value="number:1962">1962</option><option label="1963" value="number:1963">1963</option><option label="1964" value="number:1964">1964</option><option label="1965" value="number:1965">1965</option><option label="1966" value="number:1966">1966</option><option label="1967" value="number:1967">1967</option><option label="1968" value="number:1968">1968</option><option label="1969" value="number:1969">1969</option><option label="1970" value="number:1970">1970</option><option label="1971" value="number:1971">1971</option><option label="1972" value="number:1972">1972</option><option label="1973" value="number:1973">1973</option><option label="1974" value="number:1974">1974</option><option label="1975" value="number:1975">1975</option><option label="1976" value="number:1976">1976</option><option label="1977" value="number:1977">1977</option><option label="1978" value="number:1978">1978</option><option label="1979" value="number:1979">1979</option><option label="1980" value="number:1980">1980</option><option label="1981" value="number:1981">1981</option><option label="1982" value="number:1982">1982</option><option label="1983" value="number:1983">1983</option><option label="1984" value="number:1984">1984</option><option label="1985" value="number:1985">1985</option><option label="1986" value="number:1986">1986</option><option label="1987" value="number:1987">1987</option><option label="1988" value="number:1988">1988</option><option label="1989" value="number:1989">1989</option><option label="1990" value="number:1990">1990</option><option label="1991" value="number:1991">1991</option><option label="1992" value="number:1992">1992</option><option label="1993" value="number:1993">1993</option><option label="1994" value="number:1994">1994</option><option label="1995" value="number:1995">1995</option><option label="1996" value="number:1996">1996</option><option label="1997" value="number:1997">1997</option><option label="1998" value="number:1998">1998</option><option label="1999" value="number:1999">1999</option><option label="2000" value="number:2000">2000</option><option label="2001" value="number:2001">2001</option><option label="2002" value="number:2002">2002</option><option label="2003" value="number:2003">2003</option><option label="2004" value="number:2004">2004</option><option label="2005" value="number:2005">2005</option><option label="2006" value="number:2006">2006</option><option label="2007" value="number:2007">2007</option><option label="2008" value="number:2008">2008</option><option label="2009" value="number:2009">2009</option><option label="2010" value="number:2010">2010</option><option label="2011" value="number:2011">2011</option><option label="2012" value="number:2012">2012</option><option label="2013" value="number:2013">2013</option><option label="2014" value="number:2014">2014</option><option label="2015" value="number:2015">2015</option><option label="2016" value="number:2016">2016</option></select></ng-combo-date-picker>
          </label>    
          <div class="error-container ng-inactive ng-hide" ng-show="signupForm.birthDate.$touched" ng-messages="signupForm.birthDate.$error" aria-live="assertive" aria-hidden="true">
          </div> 

          <label ng-class="{'has-errors' : signupForm.gender.$invalid, 'no-errors' :signupForm.gender.$valid}" class="has-errors">
            <span class="input-label">Sexo</span>
            <select name="gender" ng-model="vm.data.form.gender" required="" class="ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required" aria-invalid="true">
              <option ng-selected="true" value="Masculino">Masculino</option>
              <option value="Feminino">Feminino</option>
            </select>  
          </label>

          <div class="error-container" ng-show="signupForm.gender.$touched" ng-messages="signupForm.gender.$error">
            <div ng-messages-include="error-list.html"></div>
          </div>

          <label ng-class="{'has-errors' : signinForm.email.$invalid, 'no-errors' :signinForm.email.$valid}">
            <input type="email" name="email" ng-model="vm.data.form.email" ng-minlength="5" 
            class="ng-pristine ng-valid ng-empty ng-valid-minlength ng-valid-email ng-touched" 
            aria-invalid="false" placeholder="E-mail" required>
          </label>    
          <div class="error-container" ng-show="signupForm.email.$touched" ng-messages="signupForm.email.$error">
            <div ng-messages-include="error-list.html"></div>
          </div>

          <label ng-class="{'has-errors' : signupForm.username.$invalid, 'no-errors' :signupForm.username.$valid}" class="has-errors">
            <input type="text" name="username" ng-model="vm.data.form.username" ng-minlength="5" ng-maxlength="20" class="ng-pristine ng-empty ng-invalid ng-invalid-required ng-valid-minlength ng-valid-maxlength ng-touched" aria-invalid="true" placeholder="Usuario" required>

          </label>
          <div class="error-container" ng-show="signupForm.username.$touched" ng-messages="signupForm.username.$error">
            <div ng-messages-include="error-list.html"></div>
          </div>

          <label ng-class="{'has-errors' : signupForm.password.$invalid, 'no-errors' :signupForm.password.$valid}">
            <input type="password" name="password" ng-model="vm.data.form.password" 
            ng-minlength="5" ng-maxlength="20" placeholder="Senha" required>
          </label>
          <div class="error-container" ng-show="signupForm.password.$touched" ng-messages="signupForm.password.$error">
            <div ng-messages-include="error-list.html"></div>
          </div>

          <md-button type="submit">cadastre-se</md-button>
          <p class="message">Já possui cadastro? <a href="javascript:;" ng-click="vm.data.loginForm=!vm.data.loginForm">Faça o login</a></p>
        </form>

        <!-- #####-----###### -->

        <form class="login-form" name="signinForm" ng-show="vm.data.loginForm"  ng-submit="vm.signin(signinForm)">

          <label ng-class="{'has-errors' : signinForm.username.$invalid, 'no-errors' :signinForm.username.$valid}">
            <input placeholder="Usuario" highlight-color="balanced" type="text" ng-model="vm.data.form.username" ng-minlength="5" ng-maxlength="20" required>
          </label>

          <div class="error-container" ng-show="signinForm.email.$touched" ng-messages="signinForm.email.$error">
            <div ng-messages-include="error-list.html"></div>
          </div>

          <label ng-class="{'has-errors' : signinForm.password.$invalid, 'no-errors' :signinForm.password.$valid}">
            <input placeholder="Senha" highlight-color="energized" type="password" ng-model="vm.data.form.password" ng-minlength="5" ng-maxlength="20" required>
          </label>

          <div class="error-container"  ng-show="signinForm.password.$touched"  ng-messages="signinForm.password.$error">
            <div ng-messages-include="error-list.html"></div>
          </div>


          <md-button type="submit">login</md-button>
          <p class="message">Não possui cadastro? <a href="javascript:;" ng-click="vm.data.loginForm=!vm.data.loginForm">Cadastre-se</a></p>
          <p class="message">Esqueceu a senha? <a href="javascript:;" ng-click="vm.modalShowResetPassword($event)">Recuperar Senha</a></p>

        </form>

        <a ng-click="vm.login('google')" class="button icon-left ion-social-google  button-assertive  button-block big">Conectar com Google</a>
        <!-- <a  ng-click="login('facebook')" class="button icon-left ion-social-facebook  button-positive button-block">Conectar com Facebook</a> -->

      </div>

    </div>

    
    <!--  <div class="padding"> -->
    <!--      <div class="col"> -->
    <!--            <a  ng-click="login('google')" class="button icon-left ion-social-google  button-assertive  button-block big">Conectar com Google</a>                -->
    <!--            <a  ng-click="login('facebook')" class="button icon-left ion-social-facebook  button-positive button-block">Conectar com Facebook</a> -->
    <!--            <\!-- <a  ng-click="login('instagram')" class="button icon-left ion-social-instagram  button-royal  button-block big">Conectar com Insta</a>                -\-> -->
    <!--            <\!-- <a  ng-click="login('linkedin')" class="button icon-left ion-social-linkedin  button-calm button-block">Conectar com LinkedIN</a> -\-> -->
    <!--      </div> -->
    <!--  </div> -->
    <!-- </div> -->

    <script type="text/ng-template" id="recoverPassword.tmpl.html">
      <md-dialog aria-label="Mango (Fruit)">
          <md-toolbar>
            <div class="md-toolbar-tools">
              <h2>Recuperar senha</h2>
              <span flex></span>
              <md-button class="md-icon-button" ng-click="vm.cancel()">
                <md-icon md-svg-src="img/icons/ic_highlight_off_black_24px.svg" aria-label="Close dialog"></md-icon>
              </md-button>
            </div>
          </md-toolbar>
          <md-dialog-content style="max-width:800px;max-height:810px; ">
            <md-content class="md-padding">
              <form name="reset_password_form" novalidate ng-submit="reset_password_form.$valid && vm.resetPassword()">
              <h1 class="title">Insira seu e-mail</h1>
              <h3 class="title">que enviaremos uma mensagem para você</h3>
              <md-input-container md-no-float class="md-block" md-is-error="reset_password_form.email.$invalid && (reset_password_form.$submitted || reset_password_form.email.$dirty)">
              <input type="email" name="email" placeholder="E-mail" ng-model="vm.data.form.email" required>
              </md-input-container>
              <div ng-messages="reset_password_form.email.$error" 
              ng-show="reset_password_form.email.$dirty">
                <div ng-message="required">This is required!</div>
              </div>  
              <md-button class="md-raised md-primary" type="submit">Primary</md-button>
              </form>
            </md-content>
          </md-dialog-content>
        
      </md-dialog>
    </script>
    
    <script id="templates/change_password.html" type="text/ng-template">
     <ion-modal-view>
       <ion-header-bar class="bar bar-header bar-positive">
         <h1 class="title">Alterar senha</h1>
         <md-button class="button button-clear button-primary" ng-click="modal.change_password.hide()">Fechar</md-button>
       </ion-header-bar>
       <ion-content class="padding">
         <input type="password" ng-model="form.password" placeholder="Senha" required/>
         <input type="password" ng-model="form.confirm_password" placeholder="Senha" required/>
         <md-button class="button button-clear button-primary" ng-click="modal.change_password.hide()">ok</md-button>
       </ion-content>
     </ion-modal-view>
   </script>

   <script id="templates/modal.html" type="text/ng-template">
     <ion-modal-view>
       <ion-header-bar class="bar bar-header bar-positive">
         <h1 class="title">{{message_modal}}</h1>
         <md-button class="button button-clear button-primary" ng-click="modal.login_fail.hide()">Fechar</md-button>
       </ion-header-bar>
       <ion-content class="padding">
        <p align="center">{{message_modal}}</p>
      </ion-content>
    </ion-modal-view>
  </script>

  <script id="error-list.html" type="text/ng-template">  
    <div class="error" ng-message="required">
      <i class="ion-information-circled"></i> 
      <b color="red">Campo obrigatório.</b>
    </div>
    <div class="error" ng-message="minlength">
      <i class="ion-information-circled"></i> 
      Preencha ao menos 5 caracteres.
    </div>
    <div class="error" ng-message="maxlength">
      <i class="ion-information-circled"></i> 
      Preencha no máximo 20 caracteres.
    </div>
    <div class="error" ng-message="email">
      <i class="ion-information-circled"></i> 
      Entre com um E-mail válido.
    </div>
  </script>  

</ion-content>
</ion-nav-view>







